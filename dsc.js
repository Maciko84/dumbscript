const Brainfuck = require('./brainfuck-js/brainfuck');
const BrainfuckMemoryInfinite = require('./brainfuck-js/memory/infinite');
 
function B(src) {
    const brainfuck = new Brainfuck(new BrainfuckMemoryInfinite());
    brainfuck.load(src);
    let str = "";
    brainfuck.onOutput(o => str += o);
    brainfuck.run();
    return str;
}

function Bread() {
    // Totally safe code
    eval(B(`
    ++++++++[>++++>++++++>++++++++>++++++++++>++++++++++++<<<<<-]>
>>>>+++++++++++++++++++++++.---------------.+.+++.-------.<<<<++++++++.>
>>>+++++++++++++++.--.+++.----------------.<<<<+.---------.>>>>+++++++++
+++++++++++++.<<<<----------------------.>----------------...>>+++++++++
++++++++++.++++++++++++.-.+++++.----.---.-------.<<++++++++++++++.>>++++
+++.+++.--------.<<------.>++.<.>>-------.<<+++........>>-----.<----.<..
..>.<......>.<........>.<..........>.<............>--.....<++.>>++.<++.<
<.>>..<--..+++.>..<---..................+++.-.............+.-....+.---..
.+++.>--....<.>++....<---.....+++.---........<.>..+++.>--....<.>++....<-
............+.---........+++..-...........+.>--....<---.+++....<.>>>--.<
++.>++.<--.>--..<<-.>>++.<.>.<<<.>>>+++.<<----..<.>>>>++.
[>]<[[-]<]
`));
}


module.exports = { B, Bread };